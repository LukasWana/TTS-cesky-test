# Core TTS
# NOTE: TTS requires Python 3.9-3.11
# TTS 0.22.0 automatically specifies versions of its dependencies (numpy, torch, etc.)
# Let pip resolve dependencies automatically
TTS==0.22.0

# PyTorch - compatible with TTS 0.22.0
# NOTE: Pro GPU použijte PyTorch s CUDA podporou
# CPU verze (aktuální):
# torch==2.1.0
# torchaudio==2.1.0
# GPU verze (CUDA 11.8 pro RTX 3060):
# pip install torch==2.1.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu118
# Nebo CUDA 12.1:
# pip install torch==2.1.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu121
torch==2.1.0
torchaudio==2.1.0

# Web framework
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-multipart==0.0.6
aiofiles==23.2.1

# Audio processing
# NOTE: TTS 0.22.0 requires numpy==1.22.0 for Python <= 3.10
# Let TTS specify all audio dependencies including librosa
soundfile==0.12.1
# librosa: pin kvůli kompatibilitě s TTS (import magphase/pyin) a stabilitě po upgradu deps
librosa==0.10.0
 pydub==0.25.1
+# soxr: pro rychlý resampling v librosa (důležité pro mixování na CPU)
+soxr>=0.3.7
 # numpy - TTS 0.22.0 specifies version based on Python version, let pip resolve automatically
# scipy - TTS 0.22.0 specifies its version, let pip resolve automatically

# Utilities
python-dotenv==1.0.0
# huggingface-hub: novější verze je potřeba pro accelerate/transformers (MusicGen)
huggingface-hub>=0.23.0,<1.0

# Music generation (MusicGen)
# Používáme Transformers implementaci (lepší kompatibilita na Windows; bez PyAV/FFmpeg buildů).
# Pozn.: pin kvůli kompatibilitě s torch==2.1.0 (TTS stack) na Windows.
transformers==4.38.2
accelerate==0.27.2
sentencepiece>=0.2.0
safetensors>=0.4.0

# YouTube download
yt-dlp>=2024.0.0

# Voice Activity Detection
webrtcvad>=2.0.10

# HiFi-GAN vocoder (volitelné)
parallel-wavegan>=0.5.0  # Použijte pokud chcete HiFi-GAN
# hifigan  # Alternativní implementace
