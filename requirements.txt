# Core TTS
# NOTE: TTS requires Python 3.9-3.11
# TTS 0.22.0 automatically specifies versions of its dependencies (numpy, torch, etc.)
# Let pip resolve dependencies automatically
TTS==0.22.0

# PyTorch / torchaudio
# POZN.: torch CUDA wheel ma verzi ve tvaru 2.1.0+cu121, ktera NEsplnuje pin torch==2.1.0.
# To zpusobovalo, ze pip pri "pip install -r requirements.txt" prepisoval CUDA build zpet na CPU build.
#
# Proto torch/torchaudio NEPINUJEME v requirements.txt.
# - CPU rezim: torch si doinstaluje TTS stack automaticky (CPU build)
# - GPU rezim: start_gpu.bat/start_all.bat zajisti spravny CUDA build (cu118/cu121) a udrzi ho
#
# Pokud potrebujes rucne:
#   pip uninstall torch torchaudio -y
#   pip install torch==2.1.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu121

# Web framework
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-multipart==0.0.6
aiofiles==23.2.1

# Audio processing
# NOTE: TTS 0.22.0 requires numpy==1.22.0 for Python <= 3.10
# Let TTS specify all audio dependencies including librosa
soundfile==0.12.1
# librosa: pin kvůli kompatibilitě s TTS (import magphase/pyin) a stabilitě po upgradu deps
librosa==0.10.0
pydub==0.25.1
# soxr: pro rychlý resampling v librosa (důležité pro mixování na CPU)
soxr>=0.3.7
# numpy - TTS 0.22.0 specifies version based on Python version, let pip resolve automatically
# scipy - TTS 0.22.0 specifies its version, let pip resolve automatically

# Utilities
python-dotenv==1.0.0
requests>=2.31.0
tqdm>=4.66.0
# huggingface-hub: novější verze je potřeba pro accelerate/transformers (MusicGen)
huggingface-hub>=0.23.0,<1.0

# Music generation (MusicGen)
# Používáme Transformers implementaci (lepší kompatibilita na Windows; bez PyAV/FFmpeg buildů).
# Pozn.: pin kvůli kompatibilitě s torch==2.1.0 (TTS stack) na Windows.
transformers==4.38.2
accelerate==0.27.2
sentencepiece>=0.2.0
safetensors>=0.4.0

# YouTube download
yt-dlp>=2024.0.0

# Voice Activity Detection
webrtcvad>=2.0.10

# Audio classification (PyAudio Analysis)
pyAudioAnalysis>=0.3.14

# Audio source separation (Demucs)
demucs>=4.0.0

# HiFi-GAN vocoder (volitelné)
parallel-wavegan>=0.5.0  # Použijte pokud chcete HiFi-GAN
# hifigan  # Alternativní implementace

# Bark (Suno AI) - text-to-speech a audio generování
# POZNÁMKA: Instalace z GitHubu (oficiální zdroj)
# pip install git+https://github.com/suno-ai/bark.git
# Bark může vyžadovat další závislosti (encodec, scipy) - instaluje se automaticky
# Vyžaduje Python 3.8+ a může mít konflikty s některými verzemi knihoven

# Barevný výstup pro konzoli (Windows/Linux/Mac)
colorama>=0.4.6
